version: '3.8'

services:
  # üü¢ ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô 1: Backend (Go)
  api:
    build: ./backend  # ‡πÑ‡∏õ‡πÄ‡∏≠‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå backend
    ports:
      - "8080:8080"   # ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏ï‡∏π 8080
    environment:
      - DB_HOST=host.docker.internal # ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° DB ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡πÄ‡∏£‡∏≤

  # üîµ ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô 2: Frontend (React)
  web:
    build: ./frontend # ‡πÑ‡∏õ‡πÄ‡∏≠‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå frontend
    ports:
      - "5173:5173"   # ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏ï‡∏π 5173
    depends_on:
      - api           # ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ "‡∏£‡∏≠‡πÉ‡∏´‡πâ api ‡∏ï‡∏∑‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞ ‡∏â‡∏±‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡∏ï‡∏∑‡πà‡∏ô"